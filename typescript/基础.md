### 类型别名

允许使用 type 关键字声明类型别名：

```ts
type PrimitiveArray = Array<string | number | boolean>
type MyNumber = number
type NgScope = ng.IScope
type Callback = () => void
```

### 环境声明

允许在 TypeScript 中创建一个不会被编译到 Javascript 中的变量。这个特性是用来促进与现有 Javascript 代码、DOM（文档对象模型）、BOM（浏览器对象模型）结合而设计的。

有时，我们希望调用一个未被定义的对象上的方法，比如 window 对象上的 console 方法。

当访问 DOM 或 BOM 对象时，我们没有遇到错误，是因为这些对象已经在一个特殊的 Typescript 文件（被称为 声明文件）中被声明了。可以使用 declare 操作符创建一个环境声明。

下面代码中，声明一个被 customConsole 对象实现的接口。然后使用 declare 操作符在作用域中增加一个 customConsole 对象：

```ts
interface ICustomConsole {
    log(arg: string): void
}
declare var cuntomConsole: ICustomConsole
```

然后就可以在没有编译错误的情况下使用 cuntomConsole

`cuntomConsole.log("测试")`

Typescript 默认包含一个名为 lib.d.ts 的文件，它提供了像 DOM 这种 Javascript 内置库的接口声明。

使用 .d.ts 结尾的声明文件，是用来提高 Typescript 对第三方库和像 Node.js 或浏览器这种运行时环境的兼容性的。

### 算数运算符

`+、-、*、/、%、++、——`

### 接口

在 TS 中，可以使用接口来确保类拥有指定的结构

```ts
interface loggerInterface {
  log(arg: any): void
}

class Logger implements loggerInterface {
  log(arg) {
    if (typeof console.log === 'function') {
      console.log(arg)
    }else {
      alert(arg)
    }
  }
}
```

上面定义了一个名为 loggerInterface 的接口，和一个实现了它的 Logger 类。TS 允许使用接口来约束对象。这让我们可以避免很多潜在的小错误：

```ts
interface UserInterface {
  name: string,
  password: string
}

let user: UserInterface = {
  name: '',
  pasword: '' //遗漏错误属性  '{ name: string; pasword: string; }' is not assignable to type 'UserInterface'
}
```

### 命名空间

又称内部模块，被用于组织一些具有某些内在联系的特性和对象。命名空间能够使代码结构更清晰，可以使用 namespace 和 export 关键字，在 TS 中声明命名空间。

```ts
namespace Geometry {
  interface VectorInterface {
  }

  export interface Vector2dInterface {
  }

  export interface Vector3dInterface {
  }

  export class Vector2d implements VectorInterface, Vector2dInterface {
  }

  export class Vector3d implements VectorInterface, Vector3dInterface {
  }
}
const vector2dInstance: Geometry.Vector2dInterface = new Geometry.Vector2d()
const vector3dInstance: Geometry.Vector3dInterface = new Geometry.Vector3d()
```

上面声明了一个包含 Vector2d、Vector3d类和VectorInterface、

Vector2dInterface、Vector3dInterface 接口的命名空间。注意，命名空间内的第一个接口声明前并没有 export 关键字。所以在命名空间外部，访问不到它。

### 综合运用

下面的例子用到了模块、类、函数和类型注解：

```ts
module Geometry {
  export interface Vector2dInterface {
    toArray(callback: (x: number[]) => void): void
    length(): number
    normalize()
  }

  export class Vector2d implements Vector2dInterface {
    private _x: number
    private _y: number

    constructor(x: number, y: number) {
      this._x = x
      this._y = y
    }

    toArray(callback: (x: number[]) => void): void {
      callback([this._x, this._y])

    }

    length(): number {
      return Math.sqrt(this._x * this._x + this._y * this._y)
    }

    normalize() {
      let len = 1 / this.length()
      this._x *= len
      this._y *= len
    }
  }
}
```

```ts
const vector: Geometry.Vector2dInterface = new Geometry.Vector2d(2, 3)
vector.normalize()
vector.toArray((vectorAsArray: number[]) => {
  console.log(vectorAsArray)
})
```

类型检查和智能提示会帮助创建 Vector2d 类的实例，单位化它的值，将其转化为数组。

### 